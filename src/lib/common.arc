
;; ----------------------------------------------------------------------------
;; debug flag
;; ----------------------------------------------------------------------------

(= *debug* 't)

;; ----------------------------------------------------------------------------
;; prdn - prn debug
;; ----------------------------------------------------------------------------

(def prdn s
    (if *debug*
        (prn s)
    )
)

(def prd s
    (if *debug*
        (pr s)
    )
)



;; ----------------------------------------------------------------------------
;; ensure-if-not-exits
;; ----------------------------------------------------------------------------

(def ensure-if-not-exits (tl o)
    (if (is (tl o) nil    )
        (=  (tl o) (table))
    )
)

;; ----------------------------------------------------------------------------
;; conn-as-string
;; ----------------------------------------------------------------------------

(def conn-as-string (conn)
    (with
        (   ob    (car  conn)
            attr  (cadr conn)
        )
        (string (ob 'name) "." (attr 'name))
    )
)


;; ----------------------------------------------------------------------------
;; get-attr-by-name
;; ----------------------------------------------------------------------------

(def get-attr-by-name (ob attr-name)
    (withs
        ( typ   (ob 'type)
          attrs (attrs-by-type* typ)
        )
        (attrs attr-name)
    )
)


